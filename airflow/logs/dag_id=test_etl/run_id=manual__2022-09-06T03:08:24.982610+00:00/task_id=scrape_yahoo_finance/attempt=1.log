[2022-09-05T23:08:28.372-0400] {plugins_manager.py:292} DEBUG - Plugins are already loaded. Skipping.
[2022-09-05T23:08:28.380-0400] {__init__.py:50} DEBUG - Loading core task runner: StandardTaskRunner
[2022-09-05T23:08:28.390-0400] {taskinstance.py:1107} DEBUG - previous_execution_date was called
[2022-09-05T23:08:28.394-0400] {base_task_runner.py:70} DEBUG - Planning to run as the  user
[2022-09-05T23:08:28.398-0400] {taskinstance.py:871} DEBUG - Refreshing TaskInstance <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> from DB
[2022-09-05T23:08:28.408-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Trigger Rule' PASSED: True, The task instance did not have any upstream tasks.
[2022-09-05T23:08:28.408-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Previous Dagrun State' PASSED: True, The task did not have depends_on_past set.
[2022-09-05T23:08:28.408-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Task Instance State' PASSED: True, Task state queued was valid.
[2022-09-05T23:08:28.408-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Task Instance Not Running' PASSED: True, Task is not in running state.
[2022-09-05T23:08:28.414-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Not In Retry Period' PASSED: True, The task instance was not marked for retrying.
[2022-09-05T23:08:28.414-0400] {taskinstance.py:1171} INFO - Dependencies all met for <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]>
[2022-09-05T23:08:28.415-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Trigger Rule' PASSED: True, The task instance did not have any upstream tasks.
[2022-09-05T23:08:28.415-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Task Concurrency' PASSED: True, Task concurrency is not set.
[2022-09-05T23:08:28.416-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Previous Dagrun State' PASSED: True, The task did not have depends_on_past set.
[2022-09-05T23:08:28.422-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Pool Slots Available' PASSED: True, There are enough open slots in default_pool to execute the task
[2022-09-05T23:08:28.424-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]> dependency 'Not In Retry Period' PASSED: True, The task instance was not marked for retrying.
[2022-09-05T23:08:28.425-0400] {taskinstance.py:1171} INFO - Dependencies all met for <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [queued]>
[2022-09-05T23:08:28.425-0400] {taskinstance.py:1368} INFO - 
--------------------------------------------------------------------------------
[2022-09-05T23:08:28.425-0400] {taskinstance.py:1369} INFO - Starting attempt 1 of 4
[2022-09-05T23:08:28.425-0400] {taskinstance.py:1370} INFO - 
--------------------------------------------------------------------------------
[2022-09-05T23:08:28.439-0400] {taskinstance.py:1389} INFO - Executing <Task(_PythonDecoratedOperator): scrape_yahoo_finance> on 2022-09-06 03:08:24.982610+00:00
[2022-09-05T23:08:28.441-0400] {standard_task_runner.py:52} INFO - Started process 77991 to run task
[2022-09-05T23:08:28.449-0400] {standard_task_runner.py:79} INFO - Running: ['airflow', 'tasks', 'run', 'test_etl', 'scrape_yahoo_finance', 'manual__2022-09-06T03:08:24.982610+00:00', '--job-id', '37', '--raw', '--subdir', 'DAGS_FOLDER/test_dag.py', '--cfg-path', '/var/folders/2z/f_7z97sn6_33j1hnl38wlzs40000gn/T/tmp2fje75lu', '--error-file', '/var/folders/2z/f_7z97sn6_33j1hnl38wlzs40000gn/T/tmp8i2vtrsq']
[2022-09-05T23:08:28.451-0400] {standard_task_runner.py:80} INFO - Job 37: Subtask scrape_yahoo_finance
[2022-09-05T23:08:28.456-0400] {cli_action_loggers.py:66} DEBUG - Calling callbacks: [<function default_action_log at 0x7f8f914393a0>]
[2022-09-05T23:08:28.472-0400] {settings.py:398} DEBUG - Disposing DB connection pool (PID 77991)
[2022-09-05T23:08:28.473-0400] {settings.py:260} DEBUG - Setting up DB connection pool (PID 77991)
[2022-09-05T23:08:28.477-0400] {settings.py:330} DEBUG - settings.prepare_engine_args(): Using NullPool
[2022-09-05T23:08:28.516-0400] {taskinstance.py:1107} DEBUG - previous_execution_date was called
[2022-09-05T23:08:28.525-0400] {task_command.py:371} INFO - Running <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [running]> on host FAS-EALC-LIU-2
[2022-09-05T23:08:28.526-0400] {taskinstance.py:871} DEBUG - Refreshing TaskInstance <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [running]> from DB
[2022-09-05T23:08:28.552-0400] {taskinstance.py:1107} DEBUG - previous_execution_date was called
[2022-09-05T23:08:28.558-0400] {taskinstance.py:943} DEBUG - Clearing XCom data
[2022-09-05T23:08:28.596-0400] {taskinstance.py:1581} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=test_etl
AIRFLOW_CTX_TASK_ID=scrape_yahoo_finance
AIRFLOW_CTX_EXECUTION_DATE=2022-09-06T03:08:24.982610+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=manual__2022-09-06T03:08:24.982610+00:00
[2022-09-05T23:08:28.596-0400] {__init__.py:146} DEBUG - Preparing lineage inlets and outlets
[2022-09-05T23:08:28.597-0400] {__init__.py:190} DEBUG - inlets: [], outlets: []
[2022-09-05T23:08:28.598-0400] {logging_mixin.py:115} INFO - Current working directory: /Users/jl/Documents/Repos/GHC-2022-data-engineering-workshop
[2022-09-05T23:08:28.599-0400] {python.py:173} INFO - Done. Returned value was: 
[2022-09-05T23:08:28.609-0400] {__init__.py:107} DEBUG - Lineage called with inlets: [], outlets: []
[2022-09-05T23:08:28.610-0400] {taskinstance.py:871} DEBUG - Refreshing TaskInstance <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [running]> from DB
[2022-09-05T23:08:28.618-0400] {taskinstance.py:1418} DEBUG - Clearing next_method and next_kwargs.
[2022-09-05T23:08:28.619-0400] {taskinstance.py:1407} INFO - Marking task as SUCCESS. dag_id=test_etl, task_id=scrape_yahoo_finance, execution_date=20220906T030824, start_date=20220906T030828, end_date=20220906T030828
[2022-09-05T23:08:28.619-0400] {taskinstance.py:2349} DEBUG - Task Duration set to 0.203715
[2022-09-05T23:08:28.627-0400] {cli_action_loggers.py:84} DEBUG - Calling callbacks: []
[2022-09-05T23:08:28.636-0400] {local_task_job.py:156} INFO - Task exited with return code 0
[2022-09-05T23:08:28.637-0400] {taskinstance.py:871} DEBUG - Refreshing TaskInstance <TaskInstance: test_etl.scrape_yahoo_finance manual__2022-09-06T03:08:24.982610+00:00 [running]> from DB
[2022-09-05T23:08:28.661-0400] {dagrun.py:642} DEBUG - number of tis tasks for <DagRun test_etl @ 2022-09-06 03:08:24.982610+00:00: manual__2022-09-06T03:08:24.982610+00:00, state:running, queued_at: 2022-09-06 03:08:25.006559+00:00. externally triggered: True>: 4 task(s)
[2022-09-05T23:08:28.662-0400] {dagrun.py:666} DEBUG - number of scheduleable tasks for <DagRun test_etl @ 2022-09-06 03:08:24.982610+00:00: manual__2022-09-06T03:08:24.982610+00:00, state:running, queued_at: 2022-09-06 03:08:25.006559+00:00. externally triggered: True>: 2 task(s)
[2022-09-05T23:08:28.662-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.curate_yahoo_finance_html manual__2022-09-06T03:08:24.982610+00:00 [None]> dependency 'Not In Retry Period' PASSED: True, The task instance was not marked for retrying.
[2022-09-05T23:08:28.662-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.curate_yahoo_finance_html manual__2022-09-06T03:08:24.982610+00:00 [None]> dependency 'Previous Dagrun State' PASSED: True, The task did not have depends_on_past set.
[2022-09-05T23:08:28.662-0400] {taskinstance.py:1171} DEBUG - Dependencies all met for <TaskInstance: test_etl.curate_yahoo_finance_html manual__2022-09-06T03:08:24.982610+00:00 [None]>
[2022-09-05T23:08:28.663-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.generate_report manual__2022-09-06T03:08:24.982610+00:00 [None]> dependency 'Trigger Rule' PASSED: False, Task's trigger rule 'all_success' requires all upstream tasks to have succeeded, but found 2 non-success(es). upstream_tasks_state={'total': 2, 'successes': 0, 'skipped': 0, 'failed': 0, 'upstream_failed': 0, 'done': 0}, upstream_task_ids={'hit_wikipedia_api', 'curate_yahoo_finance_html'}
[2022-09-05T23:08:28.663-0400] {taskinstance.py:1161} DEBUG - Dependencies not met for <TaskInstance: test_etl.generate_report manual__2022-09-06T03:08:24.982610+00:00 [None]>, dependency 'Trigger Rule' FAILED: Task's trigger rule 'all_success' requires all upstream tasks to have succeeded, but found 2 non-success(es). upstream_tasks_state={'total': 2, 'successes': 0, 'skipped': 0, 'failed': 0, 'upstream_failed': 0, 'done': 0}, upstream_task_ids={'hit_wikipedia_api', 'curate_yahoo_finance_html'}
[2022-09-05T23:08:28.663-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.generate_report manual__2022-09-06T03:08:24.982610+00:00 [None]> dependency 'Not In Retry Period' PASSED: True, The task instance was not marked for retrying.
[2022-09-05T23:08:28.663-0400] {taskinstance.py:1181} DEBUG - <TaskInstance: test_etl.generate_report manual__2022-09-06T03:08:24.982610+00:00 [None]> dependency 'Previous Dagrun State' PASSED: True, The task did not have depends_on_past set.
[2022-09-05T23:08:28.674-0400] {local_task_job.py:279} INFO - 1 downstream tasks scheduled from follow-on schedule check
